/*
 * 聊天组件样式
 * 纯CSS实现，兼容Element UI
 */

/* 聊天容器基础样式 */
.chat-container {
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
  background-color: #ffffff;
  
  &.dark {
    background-color: #1a1a1a;
  }
}

/* 消息气泡基础样式 */
.chat-bubble {
  border-radius: 8px;
  padding: 8px 12px;
  max-width: 320px;
  word-break: break-words;
  word-wrap: break-word;
  overflow-wrap: anywhere;
}

/* 用户消息气泡 */
.chat-bubble--user {
  margin-left: auto;
  background-color: rgb(var(--chat-bubble-user));
  color: rgb(var(--chat-bubble-user-text));
}

/* 客服消息气泡 */
.chat-bubble--agent {
  margin-right: auto;
  background-color: rgb(var(--chat-bubble-agent));
  color: rgb(var(--chat-bubble-agent-text));
}

/* 消息列表容器 */
.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
  
  > * + * {
    margin-top: 12px;
  }
  
  /* 自定义滚动条样式 */
  &::-webkit-scrollbar {
    width: 4px;
  }
  
  &::-webkit-scrollbar-track {
    background-color: #f5f5f5;
  }
  
  &::-webkit-scrollbar-thumb {
    background-color: #d1d1d1;
    border-radius: 4px;
  }
  
  &.dark {
    &::-webkit-scrollbar-track {
      background-color: #2a2a2a;
    }
    
    &::-webkit-scrollbar-thumb {
      background-color: #5a5a5a;
    }
  }
}

/* 消息输入区域 */
.chat-input-area {
  padding: 16px;
  border-top: 1px solid rgb(var(--chat-border));
}

/* 输入框样式 */
.chat-input {
  width: 100%;
  padding: 12px;
  border: 1px solid rgb(var(--chat-border));
  border-radius: 8px;
  resize: none;
  background-color: rgb(var(--chat-bg));
  color: rgb(var(--chat-text));
  
  &:focus {
    outline: none;
    border-color: rgb(var(--chat-primary));
  }
}

/* 发送按钮 */
.chat-send-btn {
  padding: 8px 16px;
  border-radius: 8px;
  font-weight: 500;
  transition: all 0.2s;
  background-color: rgb(var(--chat-primary));
  color: rgb(var(--chat-bubble-user-text));
  border: none;
  cursor: pointer;
  
  &:hover {
    opacity: 0.9;
  }
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

/* 消息时间戳 */
.chat-timestamp {
  font-size: 12px;
  opacity: 0.7;
  color: rgb(var(--chat-text-secondary));
}

/* 消息状态指示器 */
.chat-message-status {
  display: inline-flex;
  align-items: center;
  font-size: 12px;
  color: rgb(var(--chat-text-secondary));
}

/* 阴影效果 */
.chat-shadow-soft {
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
}

.chat-shadow-strong {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.25);
}

/* 头像样式 */
.chat-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  flex-shrink: 0;
  
  img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
  }
}

/* 消息分组 */
.chat-message-group {
  display: flex;
  gap: 8px;
  
  &--user {
    flex-direction: row-reverse;
  }
  
  &--agent {
    flex-direction: row;
  }
}

/* 在线状态指示器 */
.chat-online-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: rgb(var(--chat-success));
}

.chat-offline-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: #9ca3af;
}